import matplotlib.pyplot as plt
import cv2

image = cv2.imread("data/test_png_small.png")

label = [
    {
        "x1": 628.482177734375,
        "y1": 660.8497924804688,
        "x2": 811.7706298828125,
        "y2": 706.1259155273438,
        "confidence": 0.8424422144889832,
        "class": "Exposed rebar",
        "color": [
            138,
            43,
            226
        ]
    },
    {
        "x1": 424.4190673828125,
        "y1": 491.47607421875,
        "x2": 558.551513671875,
        "y2": 547.6631469726562,
        "confidence": 0.8249207139015198,
        "class": "Rust expansion",
        "color": [
            0,
            0,
            128
        ]
    },
    {
        "x1": 414.9289245605469,
        "y1": 747.9951171875,
        "x2": 776.857177734375,
        "y2": 844.4039916992188,
        "confidence": 0.8112491369247437,
        "class": "Rust expansion",
        "color": [
            0,
            0,
            128
        ]
    },
    {
        "x1": 555.986083984375,
        "y1": 504.6865539550781,
        "x2": 759.8729858398438,
        "y2": 552.1970825195312,
        "confidence": 0.7865458130836487,
        "class": "Exposed rebar",
        "color": [
            138,
            43,
            226
        ]
    },
    {
        "x1": 757.2973022460938,
        "y1": 513.2940063476562,
        "x2": 911.0240478515625,
        "y2": 596.7354736328125,
        "confidence": 0.7800284624099731,
        "class": "Rust expansion",
        "color": [
            0,
            0,
            128
        ]
    },
    {
        "x1": 617.355224609375,
        "y1": 363.74749755859375,
        "x2": 934.5134887695312,
        "y2": 426.04620361328125,
        "confidence": 0.7759705185890198,
        "class": "Exposed rebar",
        "color": [
            138,
            43,
            226
        ]
    },
    {
        "x1": 894.8636474609375,
        "y1": 515.0894165039062,
        "x2": 1020.4110107421875,
        "y2": 633.86083984375,
        "confidence": 0.757917046546936,
        "class": "Spalling",
        "color": [
            255,
            140,
            0
        ]
    },
    {
        "x1": 672.9920043945312,
        "y1": 199.92201232910156,
        "x2": 843.9335327148438,
        "y2": 291.3789367675781,
        "confidence": 0.7541597485542297,
        "class": "Spalling",
        "color": [
            255,
            140,
            0
        ]
    },
    {
        "x1": 835.3112182617188,
        "y1": 228.30247497558594,
        "x2": 1000.4732055664062,
        "y2": 312.9790344238281,
        "confidence": 0.7189627885818481,
        "class": "Rust expansion",
        "color": [
            0,
            0,
            128
        ]
    },
    {
        "x1": 624.467529296875,
        "y1": 28.10875701904297,
        "x2": 922.3427124023438,
        "y2": 146.87037658691406,
        "confidence": 0.6723969578742981,
        "class": "Rust expansion",
        "color": [
            0,
            0,
            128
        ]
    },
    {
        "x1": 873.6190795898438,
        "y1": 802.8385009765625,
        "x2": 975.5858764648438,
        "y2": 833.4757690429688,
        "confidence": 0.6540398001670837,
        "class": "Exposed rebar",
        "color": [
            138,
            43,
            226
        ]
    },
    {
        "x1": 969.64453125,
        "y1": 776.8736572265625,
        "x2": 1066.37255859375,
        "y2": 869.222412109375,
        "confidence": 0.6312968134880066,
        "class": "Rust expansion",
        "color": [
            0,
            0,
            128
        ]
    },
    {
        "x1": 682.603759765625,
        "y1": 212.5205841064453,
        "x2": 837.5616455078125,
        "y2": 251.015380859375,
        "confidence": 0.6062813997268677,
        "class": "Exposed rebar",
        "color": [
            138,
            43,
            226
        ]
    },
    {
        "x1": 783.7429809570312,
        "y1": 798.5349731445312,
        "x2": 965.4530029296875,
        "y2": 876.6609497070312,
        "confidence": 0.5102220177650452,
        "class": "Rust expansion",
        "color": [
            0,
            0,
            128
        ]
    },
    {
        "x1": 453.2518615722656,
        "y1": 411.5392761230469,
        "x2": 578.3114013671875,
        "y2": 471.81298828125,
        "confidence": 0.45290881395339966,
        "class": "Rust expansion",
        "color": [
            0,
            0,
            128
        ]
    },
    {
        "x1": 924.900146484375,
        "y1": 408.35784912109375,
        "x2": 1012.286376953125,
        "y2": 474.7472229003906,
        "confidence": 0.4450010359287262,
        "class": "Rust expansion",
        "color": [
            0,
            0,
            128
        ]
    },
    {
        "x1": 879.1381225585938,
        "y1": 651.0700073242188,
        "x2": 1006.5565185546875,
        "y2": 730.0794677734375,
        "confidence": 0.404208242893219,
        "class": "Rust expansion",
        "color": [
            0,
            0,
            128
        ]
    },
    {
        "x1": 904.4719848632812,
        "y1": 551.9157104492188,
        "x2": 990.5738525390625,
        "y2": 580.9598999023438,
        "confidence": 0.3964918553829193,
        "class": "Exposed rebar",
        "color": [
            138,
            43,
            226
        ]
    },
    {
        "x1": 805.5532836914062,
        "y1": 656.9200439453125,
        "x2": 873.3978881835938,
        "y2": 703.2952270507812,
        "confidence": 0.3888857066631317,
        "class": "Rust expansion",
        "color": [
            0,
            0,
            128
        ]
    },
    {
        "x1": 625.262939453125,
        "y1": 165.86819458007812,
        "x2": 686.1886596679688,
        "y2": 238.73284912109375,
        "confidence": 0.285556435585022,
        "class": "Rust expansion",
        "color": [
            0,
            0,
            128
        ]
    },
    {
        "x1": 896.0488891601562,
        "y1": 530.7774658203125,
        "x2": 1010.267822265625,
        "y2": 612.2059936523438,
        "confidence": 0.27328747510910034,
        "class": "Exposed rebar",
        "color": [
            138,
            43,
            226
        ]
    }

]

for i, box in enumerate(label):
    print(f"box {i}: {box}")
    x1, y1, x2, y2, cls_name, color = int(box["x1"]), int(box["y1"]),int(box["x2"]),int(box["y2"]), box["class"], box["color"]
    image = cv2.rectangle(image, (x1, y1), (x2,y2), color, thickness=10)

image = cv2.cvtColor(image, cv2.COLOR_BGR2RGB)
plt.imshow(image)
plt.show()
